<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü—Ä–æ–≤–µ—Ä–∫–∞ WhatsApp</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      background: white;
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      max-width: 400px;
      width: 100%;
    }

    h1 {
      color: #25D366;
      text-align: center;
      margin-bottom: 10px;
      font-size: 28px;
    }

    .subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 30px;
      font-size: 14px;
    }

    .input-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-weight: 600;
    }

    input[type="tel"] {
      width: 100%;
      padding: 15px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 16px;
      transition: border-color 0.3s;
    }

    input[type="tel"]:focus {
      outline: none;
      border-color: #25D366;
    }

    .hint {
      font-size: 12px;
      color: #999;
      margin-top: 5px;
    }

    button {
      width: 100%;
      padding: 15px;
      background: #25D366;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s, transform 0.1s;
    }

    button:hover {
      background: #20BA5A;
    }

    button:active {
      transform: scale(0.98);
    }

    button:disabled {
      background: #ccc;
      cursor: not-allowed;
    }

    .whatsapp-icon {
      font-size: 48px;
      text-align: center;
      margin-bottom: 20px;
    }

    .error {
      color: #e74c3c;
      font-size: 12px;
      margin-top: 5px;
      display: none;
    }

    .examples {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
    }

    .examples h3 {
      font-size: 14px;
      color: #666;
      margin-bottom: 8px;
    }

    .examples p {
      font-size: 12px;
      color: #888;
      margin: 3px 0;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="whatsapp-icon">üì±</div>
    <h1>WhatsApp Checker</h1>
    <p class="subtitle">–ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–º–µ—Ä–∞ –≤ WhatsApp</p>

    <div class="input-group">
      <label for="phone">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
      <input type="tel" id="phone" placeholder="+79001234567" autocomplete="off">
      <p class="hint">–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Å –∫–æ–¥–æ–º —Å—Ç—Ä–∞–Ω—ã</p>
      <p class="error" id="error">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä</p>
    </div>

    <!-- –í—ã–±–æ—Ä, –≤ –∫–∞–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –Ω–æ–º–µ—Ä -->
    <div class="input-group">
      <label for="appChoice">–û—Ç–∫—Ä—ã—Ç—å –≤</label>
      <select id="appChoice" aria-label="–í—ã–±–æ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è">
        <option value="whatsapp">WhatsApp (–æ–±—ã—á–Ω—ã–π)</option>
        <option value="business">WhatsApp Business</option>
      </select>
      <p class="hint">–ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –æ—Ç–∫—Ä—ã—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
        –≤–µ–±-–≤–µ—Ä—Å–∏—è.</p>
    </div>

    <button onclick="openWhatsApp()">–û—Ç–∫—Ä—ã—Ç—å –≤ WhatsApp</button>

    <div class="examples">
      <h3>–ü—Ä–∏–º–µ—Ä—ã —Ñ–æ—Ä–º–∞—Ç–∞:</h3>
      <p>üá∑üá∫ –†–æ—Å—Å–∏—è: +79001234567</p>
      <p>üá∫üá¶ –£–∫—Ä–∞–∏–Ω–∞: +380501234567</p>
      <p>üá∞üáø –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω: +77001234567</p>
    </div>
  </div>

  <script>
    const phoneInput = document.getElementById('phone')
    const errorMsg = document.getElementById('error')
    const appChoice = document.getElementById('appChoice')

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ + –≤ –Ω–∞—á–∞–ª–µ
    phoneInput.addEventListener('input', function (e) {
      let value = e.target.value.replace(/[^\d+]/g, '')

      if (value && !value.startsWith('+')) {
        value = '+' + value
      }

      e.target.value = value

      // –°–∫—Ä—ã—Ç—å –æ—à–∏–±–∫—É –ø—Ä–∏ –≤–≤–æ–¥–µ
      if (errorMsg.style.display === 'block') {
        errorMsg.style.display = 'none'
      }
    })

    // –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ Enter
    phoneInput.addEventListener('keypress', function (e) {
      if (e.key === 'Enter') {
        openWhatsApp()
      }
    })

    function openWhatsApp() {
      const phone = phoneInput.value.trim()

      // –í–∞–ª–∏–¥–∞—Ü–∏—è
      if (!phone || phone.length < 10) {
        errorMsg.style.display = 'block'
        phoneInput.style.borderColor = '#e74c3c'
        return
      }

      // –û—á–∏—Å—Ç–∫–∞ –Ω–æ–º–µ—Ä–∞ (—É–¥–∞–ª—è–µ–º –≤—Å–µ –∫—Ä–æ–º–µ —Ü–∏—Ñ—Ä)
      const cleanPhone = phone.replace(/\D/g, '')

      if (cleanPhone.length < 10) {
        errorMsg.style.display = 'block'
        phoneInput.style.borderColor = '#e74c3c'
        return
      }

      // –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–æ–∫/—Å—Ö–µ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
      // –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ: –ø–æ–ø—ã—Ç–∫–∞ –æ—Ç–∫—Ä—ã—Ç—å –Ω–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
      // —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º fallback –Ω–∞ https://wa.me/ (–≤–µ–±).
      const waWebUrl = `https://wa.me/${cleanPhone}`

      const choice = appChoice ? appChoice.value : 'whatsapp'

      // –ü–∞–∫–µ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (Android) ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º intent –¥–ª—è –ø–æ–ø—ã—Ç–∫–∏ –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
      const pkg = choice === 'business' ? 'com.whatsapp.w4b' : 'com.whatsapp'

      const isAndroid = /Android/i.test(navigator.userAgent)
      const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent)

      if (isAndroid) {
        // Android: –∏—Å–ø–æ–ª—å–∑—É–µ–º intent URL —Å —É–∫–∞–∑–∞–Ω–∏–µ–º package ‚Äî —ç—Ç–æ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
        const intentUrl = `intent://send?phone=${cleanPhone}#Intent;package=${pkg};scheme=whatsapp;end`
        // –æ—Ç–∫—Ä—ã–≤–∞–µ–º –≤ —Ç–æ–º –∂–µ –æ–∫–Ω–µ, intent –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–æ–π
        window.location.href = intentUrl
        // –ù–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ intent –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª (–±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç) ‚Äî —á–µ—Ä–µ–∑ 1.5s –æ—Ç–∫—Ä—ã—Ç—å –≤–µ–±-–≤–µ—Ä—Å–∏—é
        setTimeout(() => window.open(waWebUrl, '_blank'), 1500)
        return
      }

      if (isIOS) {
        // iOS: —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ø—Ä–æ–±—É–µ–º —Å—Ö–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∑–∞—Ç–µ–º fallback –Ω–∞ –≤–µ–±
        const appUrl = `whatsapp://send?phone=${cleanPhone}`
        // –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–∫—Ä—ã—Ç—å —Å—Ö–µ–º—É (–≤ —Ç–µ–∫—É—â–µ–º –æ–∫–Ω–µ), –∑–∞—Ç–µ–º –æ—Ç–∫—Ä—ã—Ç—å –≤–µ–±-–≤–µ—Ä—Å–∏—é, –µ—Å–ª–∏ —Å—Ö–µ–º–∞ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç
        window.location.href = appUrl
        setTimeout(() => window.open(waWebUrl, '_blank'), 1500)
        return
      }

      // –î–µ—Å–∫—Ç–æ–ø / –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ–º –≤–µ–±-–≤–µ—Ä—Å–∏—é –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
      window.open(waWebUrl, '_blank')

      // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –æ—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª–µ –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è
      // phoneInput.value = '';

      // –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
      phoneInput.style.borderColor = '#25D366'
    }

    // –ê–≤—Ç–æ—Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ –≤–≤–æ–¥–∞
    window.addEventListener('load', () => {
      phoneInput.focus()
    });
  </script>
</body>

</html>