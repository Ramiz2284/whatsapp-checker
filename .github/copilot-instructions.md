## Цель

Короткие инструкции для AI-агентов, которые будут править или дополнять этот репозиторий. Проект — простой одностраничный статический сайт для проверки номера WhatsApp (`index.html`). Нет бэкенда и внешних зависимостей.

## Большая картина

- Репозиторий содержит единственный артефакт: `index.html` — статическая страница, которая формирует ссылку `https://wa.me/{cleanPhone}` и открывает её в новой вкладке.
- Главные зоны ответственности в файле:
  - UI: верстка и стили в `<style>` внутри `index.html` (класс `.container`, элементы `.examples`, `.whatsapp-icon`).
  - Валидация и поведение: скрипт внизу файла — `phoneInput` (id `phone`), сообщение об ошибке (id `error`) и функция `openWhatsApp()`.

## Что важно знать при правках (ключевые паттерны)

- Авто-добавление знака `+`: обработчик `input` очищает ввод через `e.target.value.replace(/[^\d+]/g, '')` и добавляет `+`, если надо. Основная логика — всегда оставлять ведущий `+`.
- Очистка номера перед формированием ссылки: `const cleanPhone = phone.replace(/\D/g, '')` — далее используется в `https://wa.me/${cleanPhone}`.
- Базовая валидация: минимальная длина номера — 10 символов (`if (!phone || phone.length < 10) ...`). Если меняете это правило, обновите оба места в `openWhatsApp()`.
- UI-тон: язык интерфейса — русский; сохраняйте русские строки при изменениях (заголовки, подсказки, примеры формата).

## Примеры конкретных задач и где править

- Изменить минимальную длину телефона: правка в `openWhatsApp()` — искать `if (!phone || phone.length < 10)` и `if (cleanPhone.length < 10)`.
- Добавить страны/примеры: секция `.examples` в `index.html`.
- Изменить визуальный стиль: блок `<style>` в `index.html`, классы `.container`, `button`, `input[type="tel"]`.
- Логика открытия: `window.open(whatsappUrl, '_blank')` — не меняйте схему `https://wa.me/` на другие API без явного запроса владельца.

## Dev workflow / как быстро протестировать изменения

- Поскольку это статический HTML, достаточно открыть `index.html` в браузере (двойной клик) для ручного теста.
- Для локального сервера (рекомендуется для корректной работы политики браузера):

  - Python 3 (PowerShell):

    ```powershell
    python -m http.server 8000
    # открыть http://localhost:8000
    ```

  - Node (если установлен):

    ```powershell
    npx serve . -l 5000
    # открыть http://localhost:5000
    ```

- Отладка: использовать DevTools браузера (Console/Network). Для трассировки поведения добавляйте `console.log` рядом с `openWhatsApp()` и очисткой номера.

## Ограничения и интеграции

- Нет бэкенда, база данных или внешних SDK. Единственная внешняя интеграция — переход к `wa.me` (WhatsApp). Поменять это — архитектурное изменение, согласуйте с владельцем.
- Нет тестов/CI в репозитории; правки тестируются вручную в браузере.

## Правила для AI-агента (чёткие, специфичные)

1. Не удалять или не переводить русские тексты интерфейса без явного требования — UX ориентирован на русскоязычную аудиторию.
2. Если вносишь изменения в валидацию номера, обнови оба условия в `openWhatsApp()` и добавь короткий комментарий рядом с изменением, зачем это сделано.
3. Для любых изменений в логике формирования ссылки (`wa.me`) оставляй fallback: если `cleanPhone` пустой или короткий — не открывать вкладку и показывать `#error`.
4. Добавляй небольшие, само-документирующие комментарии на русском рядом с нетривиальной логикой (1–2 строки).
5. Не добавлять сборщиков/фреймворков в репозиторий без одобрения — цель проекта — минимализм.

## Что можно предложить как улучшение (опционально)

- Добавить unit/e2e тесты для валидации номера (например, простая Jest-утилита или Cypress), но это уже расширение проекта.
- Улучшить UX: маска ввода номера, более точная валидация по коду страны.

## Контакт / итерация

Если что-то в этих инструкциях непонятно или не соответствует текущей задаче — оставьте комментарий в issue или ответьте владельцу репозитория. Я обновлю документ по обратной связи.
